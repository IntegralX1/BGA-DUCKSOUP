(()=>{var t={249:function(t,e,n){var o;t.exports=(o=o||function(t,e){var o;if("undefined"!=typeof window&&window.crypto&&(o=window.crypto),"undefined"!=typeof self&&self.crypto&&(o=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(o=globalThis.crypto),!o&&"undefined"!=typeof window&&window.msCrypto&&(o=window.msCrypto),!o&&void 0!==n.g&&n.g.crypto&&(o=n.g.crypto),!o)try{o=n(480)}catch(t){}var i=function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,o=this.sigBytes,i=t.sigBytes;if(this.clamp(),o%4)for(var r=0;r<i;r++){var a=n[r>>>2]>>>24-r%4*8&255;e[o+r>>>2]|=a<<24-(o+r)%4*8}else for(var s=0;s<i;s+=4)e[o+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(i());return new l.init(e,t)}}),d=a.enc={},u=d.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,o=[],i=0;i<n;i++){var r=e[i>>>2]>>>24-i%4*8&255;o.push((r>>>4).toString(16)),o.push((15&r).toString(16))}return o.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o+=2)n[o>>>3]|=parseInt(t.substr(o,2),16)<<24-o%8*4;return new l.init(n,e/2)}},f=d.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,o=[],i=0;i<n;i++){var r=e[i>>>2]>>>24-i%4*8&255;o.push(String.fromCharCode(r))}return o.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o++)n[o>>>2]|=(255&t.charCodeAt(o))<<24-o%4*8;return new l.init(n,e)}},g=d.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},h=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=g.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,o=this._data,i=o.words,r=o.sigBytes,a=this.blockSize,s=r/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,d=t.min(4*c,r);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(i,u);n=i.splice(0,c),o.sigBytes-=d}return new l.init(n,d)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),m=(s.Hasher=h.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new m.HMAC.init(t,n).finalize(e)}}}),a.algo={});return a}(Math),o)},153:function(t,e,n){var o;t.exports=(o=n(249),function(t){var e=o,n=e.lib,i=n.WordArray,r=n.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),o=2;o<=n;o++)if(!(e%o))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var o=2,i=0;i<64;)e(o)&&(i<8&&(s[i]=n(t.pow(o,.5))),c[i]=n(t.pow(o,1/3)),i++),o++}();var l=[],d=a.SHA256=r.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,o=n[0],i=n[1],r=n[2],a=n[3],s=n[4],d=n[5],u=n[6],f=n[7],g=0;g<64;g++){if(g<16)l[g]=0|t[e+g];else{var h=l[g-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,p=l[g-2],v=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;l[g]=m+l[g-7]+v+l[g-16]}var w=o&i^o&r^i&r,y=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&u)+c[g]+l[g];f=u,u=d,d=s,s=a+b|0,a=r,r=i,i=o,o=b+(y+w)|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+d|0,n[6]=n[6]+u|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,o=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(o/4294967296),n[15+(i+64>>>9<<4)]=o,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=r._createHelper(d),e.HmacSHA256=r._createHmacHelper(d)}(Math),o.SHA256)},480:()=>{}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t={credentials:"include"};async function e(e,n){try{const o=Object.assign({},t,n),i=await fetch(e,o);return await i.json()}catch(t){throw new Error(`Unable to fetch a response from ${e} the server responded with the following error: ${t.message}`)}}const o=()=>{const t=document.getElementById("viafoura-platform");return t&&t.getAttribute("data-sid")},i=t=>0!==t.length&&/^[a-z0-9]{16,32}$/i.test(t)?t:"",r="_vf_sid",a=t=>document.querySelector(`meta[name='${t}']`)||document.querySelector(`meta[property='${t}']`);function s(t){let e="";for(const n of t){const t=a(n);if(t){e=t.getAttribute("content")||e;break}}return e}const c=["vf:domain","vf:description","og:domain","domain"],l=["vf:section"],d=["vf:image","og:image","og:image:secure_url","og:image:url","twitter:image"],u=["vf:url","og:url"],f=["vf:title","og:title","twitter:title"],g=["vf:type","og:type"],h=["vf:description","og:description","twitter:description","description"],m=["keywords"],p=["vf:topic"],v=["article:tag"],w=["vf:container_id"],y=["beta-admin.viafoura.com","insights.viafoura.co","insights-canary.viafoura.co"],b=void 0;function _(){let t;const e=new URL(window.location.href);return y.includes(e.host)||(t=s(c)),t=t||b||e.hostname,t}const I=_(),x=`https://i.viafoura.co/v3/${I}/ingest`,S=`https://api.viafoura.co/v2/${I}/bootstrap/v2`;function k(t){let e=window.localStorage.getItem(A);if(e)return e;if(t){const n=t.settings;e=n&&n.site_uuid}else e=localStorage.getItem(A);return e||null}const A="vf.analytics.section";let C;async function P(){return C=await async function(){let t,n;const a=function(){let t="";const e=o(),n=window.localStorage.getItem(r);return e?t=i(e):n&&(t=i(n)),t}(),c=s(l),d={section:c,section_tree:c,...a&&{session:a}};try{n=await e(S,{method:"post",body:JSON.stringify(d)}),t=n.result}catch(t){console.error(t)}return t}(),C&&(function(t){const e=k(t);e&&localStorage.setItem(A,e)}(C),localStorage.setItem("_vf_bootstrap",JSON.stringify(C))),C}const $="110px",D="20px";function E(t){const e=document.createElement("div");return e.setAttribute("class","vf-skeleton-generic-block"),e.setAttribute("data-testid","generic-block"),e.setAttribute("style",`height: ${t||"100%"}`),e}function U(){const t=document.createElement("div");t.setAttribute("class","vf-skeleton-comments-container"),t.setAttribute("data-testid","comments-container");const e=document.createElement("div");e.setAttribute("class","vf-skeleton-comments-img-wrapper"),e.setAttribute("data-testid","image-wrapper"),e.appendChild(E("46px"));const n=document.createElement("div");n.setAttribute("class","vf-skeleton-comments-line-wrapper"),n.setAttribute("data-testid","comments-line-wrapper");const o=E("20px");return n.append(o,o.cloneNode(!0),o.cloneNode(!0),o.cloneNode(!0)),t.append(e,n),t}function L(t,e){const n=document.createElement("div");return n.setAttribute("id","vf-skeleton-container"),n.setAttribute("style",`height: ${t}px`),n.setAttribute("data-testid","skeleton-container"),n.style.height=`${t}px`,0===t&&(n.style.margin="0px"),"conversations"===e?n.appendChild(function(t){const e=document.createElement("div");e.setAttribute("class","vf-skeleton-conversations-container"),e.setAttribute("data-testid","conversations-container");const n=Math.floor((t-138)/140);e.appendChild(function(){const t=document.createElement("div");return t.append(E($),E(D)),t}());for(let t=0;t<n;t++)e.appendChild(U());return e}(t)):n.appendChild(E()),n}const T=async function(t){let n,o={},i=localStorage.getItem(A);i||(i="00000000-0000-4000-8000-000000000000");try{n=await e(`https://livecomments.viafoura.co/v4/livecomments/${i}/contentcontainer/id?container_id=${t}`,{method:"GET"}),o=n.settings}catch(t){console.error(t)}return o},j=t=>t.attributes.getNamedItem("vf-container-id")?.value||s(w);function H(t,e){const{elements:n,options:o}=t;n.forEach((t=>{let n=o.height();const i=t.closest(".viafoura");i&&i.style.minHeight&&(n=parseInt(i.style.minHeight)),t.appendChild(L(n,o.skeletonTemplate)),e.observe(t)}))}function O(t){const e=document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t,e.appendChild(n)}const N=`${window.vfConfig?.cdn_root||"https://cdn.viafoura.net/"}vf-v2.js`,R=new class{scriptAdded;constructor(){this.scriptAdded=!1}V2(t){if(!this.scriptAdded)try{!function(t){const e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("src",t),n.setAttribute("async","true"),e.appendChild(n)}(t),this.scriptAdded=!0}catch(t){console.log(t)}}},B=()=>R.V2(N),V={"vf-conversations":{selector:"vf-conversations",height:()=>428,isDynamicHeight:!1,threshold:.25,skeletonTemplate:"conversations",loadFn:()=>{B()},renderer:async function(t,e){const{elements:n,options:o}=t,{user:i,settings:r}=C||{},a="guest"===i?.user_privilege||"user"===i?.user_privilege;for(const t of Object.values(n)){let n=o.height();const i=t.closest(".viafoura");i&&i.style.minHeight&&(n=parseInt(i.style.minHeight));const s=parseInt(t.getAttribute("initial-height")||"0");if(s&&r?.enable_comments_trending_articles&&r?.ad_integration&&(n=(n>s?n:s)+300),a){const e=j(t),o=await T(e);o?.is_hidden&&(n=0)}t.appendChild(L(n,o.skeletonTemplate)),e.observe(t)}}},"vf-conversations-count":{selector:"vf-conversations-count",height:()=>0,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},"vf-tray-trigger":{selector:"vf-tray-trigger",height:()=>20,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){const{elements:n,notificationCount:o}=t,i=[];let r=!1;n.forEach((t=>{const n=((t,e)=>{const n=document.createElement("button");!function(t,e){for(const n in e)t.setAttribute(n,e[n])}(n,{type:"button","aria-label":"View your notifications and profile settings","data-vf-id":"-1",class:"fake-bell vf-button vf-no-outline is-size-large vf-tray-trigger vf-frontwise-tray-trigger "+(t?"floating vf-tray-trigger--floating vf-frontwise-tray-trigger--floating":""),...t&&{"data-testid":"floating-bell"}});const o=`\n        <strong\n        aria-label="You have ${e} new notifications"\n        data-testid="notification-bubble"\n        class="vf-label count-badge count-badge--small count-badge--danger-color vf-frontwise-tray-count vf-tray-count ${t?"vf-frontwise-tray-count--floating vf-tray-count--floating":""}"\n    >\n            <span data-testid="notification-bubble-text" aria-hidden="true" class="count-badge__inner count-badge--small__inner">\n                ${e>9?"9+":e}\n            </span>\n        </strong>\n    `;return n.innerHTML+=`\n        ${e>0?o:""}\n        <svg  viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="vf-icon-medium vf-icon vf-frontwise-icon-medium vf-frontwise-icon vf-icon_bell_icon">\n            \x3c!----\x3e\n            \x3c!----\x3e\n            <defs></defs>\n            <g>\n                <path\n                    fill="currentColor"\n                    fill-rule="evenodd"\n                    d="M50 3c7 0 13 3 18 7 4 5 7 11 8 18l5 28c2 7 5 10 9 12l3 3c1 1 2 2 2 5 0 2-2 5-5 5H10c-3 0-5-3-5-5 0-3 1-4 2-5l3-3c4-2 7-5 9-12l5-28c1-7 4-13 8-18 5-4 11-7 18-7zM36 83h28v1c0 8-6 14-14 14s-14-6-14-14v-1z"\n                ></path>\n            </g>\n        </svg>\n    `,n})(t.hasAttribute("floating"),o),a=t.closest(".viafoura");a&&(a.appendChild(n),i.push(n)),e.observe(t),n.addEventListener("click",(()=>{r=!0}))})),O("\n    @font-face {\n        font-weight: 100 900;\n        font-family: 'Inter';\n        font-style: normal;\n        font-display: swap;\n        src: url('https://cdn.viafoura.net/front/assets/fonts/inter/inter-latin.woff2') format('woff2');\n    }\n    .viafoura {\n        font-size: 87.5%;\n        line-height: 1.3;\n    }\n    .viafoura .vf-frontwise-tray-trigger {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 40px;\n        height: 40px;\n        padding: 0;\n        overflow: visible;\n        outline: none;\n        -webkit-tap-highlight-color: transparent;\n        border: none;\n        word-break: keep-all;\n        cursor: pointer;\n        -webkit-appearance: button;\n        text-transform: inherit;\n        background: none;\n        box-shadow: none;\n        font-size: inherit;\n        font-family: inherit;\n        line-height: inherit;\n        vertical-align: baseline;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger.vf-button {\n        padding: 0;\n        border-radius: 50%;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger:focus,\n    .viafoura .vf-frontwise-tray-trigger:hover,\n    .viafoura .vf-frontwise-tray-trigger:active {\n        color: #0074e8;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating {\n        background-color: rgba(0,0,0,0.75);\n        color: #fff;\n        position: fixed;\n        right: 30px;\n        bottom: 30px;\n        z-index: 10000004;\n        margin: 1em;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating:focus,\n    .viafoura .vf-frontwise-tray-trigger--floating:hover {\n        background-color: #0074e8;\n        color: #fff;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating:active {\n        background-color: #004e9c;\n    }\n\n\n    .viafoura .vf-frontwise-tray-count {\n        position: absolute;\n        top: 10%;\n        left: 50%;\n        position: absolute;\n        top: 10%;\n        left: 50%;\n        font-family: 'Inter', sans-serif;\n        font-weight: 400;\n        box-sizing: border-box;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 0.715em;\n        line-height: 1;\n        min-width: 1.24em;\n        min-height: 1.24em;\n        padding: 0.12em;\n        border-radius: 0.62em;\n        color: white;\n        background-color: #cc4949;\n    }\n\n    .viafoura .vf-frontwise-tray-count--floating {\n        top: 0;\n        right: 0;\n        left: auto;\n        transform: translateX(25%);\n        max-width: 1.8em;\n        max-height: 1.8em;\n        line-height: 0;\n        min-width: 1.8em;\n        min-height: 1.8em;\n        padding: 0.4em;\n        border-radius: 0.9em;\n    }\n    .viafoura .vf-frontwise-icon.vf-frontwise-icon-medium {\n        width: 18px;\n        height: 18px;\n        font-size: 9px;\n        line-height: 18px;\n    }\n    #fake-bell svg:not(:root) {\n        overflow: hidden;\n    }\n    .viafoura .vf-frontwise-icon {\n        display: inline-block;\n        text-align: center;\n        font-weight: 500;\n        text-transform: uppercase;\n    }\n"),window.vfQ.push((function(){window.vf.$subscribe("vf-tray-trigger","loaded",(function(){i.forEach((t=>t.remove())),r&&(window.vf.$publish("tray","open"),r=!1)}))}))}},"vf-tray":{selector:"vf-tray",height:()=>0,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},"vf-content-recirculation":{selector:"vf-content-recirculation",height:()=>{const t=C?.settings.trending_conversations_ad_integration,e=t&&"none"!==t,n=window.innerWidth<700;return e&&n?600:300},isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},"vf-livechat":{selector:"vf-livechat",height:()=>160,isDynamicHeight:!1,threshold:1,allowedStyleProps:["height"],loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},"vf-livestory":{selector:"vf-livestory",height:()=>250,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},"vf-topic-follow":{selector:"vf-topic-follow",height:()=>0,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},sharetotal:{selector:'[data-widget="sharetotal"]',height:()=>20,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},sharebar:{selector:'[data-widget="sharebar"]',height:()=>40,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},"vf-trending-articles":{selector:"vf-trending-articles",height:()=>144,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},"vf-conversation-starter":{selector:"vf-conversation-starter",height:()=>{const t=C?.settings.conversation_starter_ad_integration,e=t&&"none"!==t,n=window.innerWidth<621;return e&&n?565:270},isDynamicHeight:!0,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}},"vf-standalone-ad":{selector:"vf-standalone-ad",height:()=>300,isDynamicHeight:!1,threshold:1,loadFn:()=>{B()},renderer:function(t,e){H(t,e)}}};async function z(){let t,n=0,o=localStorage.getItem(A);o||(o="00000000-0000-4000-8000-000000000000");try{if(t=await e(`https://notifications.viafoura.co/v5/notifications/${o}/all`,{method:"GET"}),!t)return n;let i=t.broadcasts;const r=F();i=r?i.filter((t=>(t.time||0)>+r)):i.filter((t=>"new"===t.status));n=(i.length>0?i.length:0)+(t.notifications.length>0?t.notifications.map((t=>t.notifications)).flat().reduce(((t,e)=>("new"===e.status&&t++,t)),0):0)}catch(t){console.error(t)}return n}const F=()=>{try{if(C){const{user:t}=C;let{uuid:e}=t;return e||(e="00000000-0000-4000-8000-000000000000"),window.localStorage.getItem(`_vf_notification_queue_last_seen_${String(e)}`)}}catch(t){return}},q=[];var M,J=new Uint8Array(16);function W(){if(!M&&!(M="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return M(J)}const K=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Q=[],G=0;G<256;++G)Q.push((G+256).toString(16).substr(1));const X=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Q[t[e+0]]+Q[t[e+1]]+Q[t[e+2]]+Q[t[e+3]]+"-"+Q[t[e+4]]+Q[t[e+5]]+"-"+Q[t[e+6]]+Q[t[e+7]]+"-"+Q[t[e+8]]+Q[t[e+9]]+"-"+Q[t[e+10]]+Q[t[e+11]]+Q[t[e+12]]+Q[t[e+13]]+Q[t[e+14]]+Q[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&K.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},Y=function(t,e,n){var o=(t=t||{}).random||(t.rng||W)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=o[i];return e}return X(o)};function Z(...t){(function(){try{return["development","dev"].includes("production")}catch{return!1}}()||window.localStorage.getItem("_vf-debug"))&&(console.group("%c[viafoura]","\ndisplay: inline-block;\nbackground-color: #cf2e2e;\ncolor: #ffffff;\nfont-weight: bold;\npadding: 3px 7px 3px 7px;\nborder-radius: 3px 3px 3px 3px ;\n"),console.log(...t),console.groupEnd())}function tt(t){return String.prototype.trim.call(t)}function et(t){const e=typeof t;return null!==t&&("object"===e||"function"===e)}function nt(t){if(!et(t))return!1;for(const e in t)if(Object.hasOwn(t,e))return!0;return!1}const ot={get:function(t,e=!1){if(!window||!window.localStorage)return null;const n=window.localStorage.getItem(t);if(!n)return null;if(!e)return n;try{return JSON.parse(n)}catch(e){return Z(`failed to get json from LS ${t} key due to `,e),null}},set:function(t,e){if(!window||!window.localStorage)return null;if(!e||et(e)&&!nt(e))return null;if(nt(e)||Array.isArray(e))try{const n=JSON.stringify(e);return window.localStorage?.setItem(t,n),n}catch(e){return Z(`failed to set json to LS ${t} key due to `,e),null}return window.localStorage?.setItem(t,e),e},clear:function(t,e=window){return window&&window.localStorage?(e.localStorage?.removeItem(t),!0):null}},it=ot,rt="_vf_rd_test_",at="vf_root_domain";function st(t,e=!1){t.maxAge=-1,t.value="",e?ft(t,!1,!0):ft(t)}function ct(t,e=document){const n=e.cookie.split("; "),o=[];for(let e=0;e<n.length;e++)n[e].substring(0,t.length)===t&&o.push(n[e]);return o}function lt(t){it.set(at,t)||Z("failed to set root domain",t)}const dt={y:31536e3,d:86400,h:3600,m:60,s:1},ut=t=>{if("string"==typeof t){const e=parseInt(t.slice(0,-1),10),n=t.slice(-1);return e*dt[n]||0}return"number"==typeof t?t:0};function ft(t,e=!1,n=!1){return t.maxAge=ut(t.maxAge||0),e&&(t.sameSite=t.sameSite||"Lax",t.isSecure=!1!==t.isSecure,n||(t.domain=function(t,e,n=!1){const o=function(){const t=it.get(at);return t&&t.length>3?t:null}();if(o)return o;const i=window.location.hostname,r=i.split("."),a=(new Date).getTime();let s=r.length>1?r.length-1:0;const c={name:`${rt}${a}`,value:`_test_${a}`,maxAge:0,sameSite:t,isSecure:e,domain:i};for(;s>=1;){if(c.domain=r.slice(s,r.length).join("."),ft(c,!1,!0)===c.value||n){st(c,!0);const t=ct(rt);for(let e=0;e<t.length;e++){const n=c;n.name=t[e],st(n,!0)}return lt(c.domain),c.domain}s-=1}return lt(i),i}(t.sameSite,t.isSecure))),document.cookie=function(t){let e=`${t.name}=${t.value};path=/`;const n=t.isSecure?"; Secure":"",o=t.sameSite?`;SameSite=${t.sameSite}`:"",i=t.domain?`;domain=${t.domain}`:"";if(t.maxAge&&"number"==typeof t.maxAge){const n=new Date;n.setTime(n.getTime()+1e3*t.maxAge),e+=`;max-age=${t.maxAge};expires=${n.toUTCString()}`}return e+=`${i}${o}${n}`,e}(t),decodeURIComponent((`; ${document.cookie}`.split(`; ${t.name}=`)[1]||"").split(";")[0])}const gt=(t,e)=>{return"ref"!==t?(n=e,decodeURI(n)):e.split("|").map((t=>t.trim())).reduce(((t,e)=>{const n=e.split("=").map((t=>t.trim()));return t[n[0]]=n[1]?decodeURI(n[1]):"",t}),{});var n};function ht(t,e){const n=function(t,e=document.cookie){const n=`${t}=`,o=e.split(";").map(tt).find((t=>0===t.indexOf(n)));return o?o.substring(n.length,o.length):null}(e);if(!n)return{};const o=n.split(".");return t.reduce(((t,e,n)=>(o[n]&&(t[e]=gt(e,o[n])),t)),{})}const mt=t=>encodeURIComponent(t).replace(/\./g,"%2E"),pt=t=>Object.entries(t).map((([t,e])=>`${t}=${mt(e)}`));function vt(t,e,n){const o=function(t,e){return t.reduce(((t,n)=>{const o=e[n]||"";if("ref"===n){const e=pt(o).join("|");return t.concat(e)}return t.concat(mt(o))}),[]).join(".")}(n,e),{cname:i,maxAge:r}=t;ft({name:i,value:o,maxAge:r},!0)}const wt=()=>{const t=window.location.hash,e=/^#vf-(\d+)/.exec(t);if(e&&e.length>1){const t=parseInt(e[1],10);if("number"==typeof t)return t}return!1};function yt(){const t=new URL(window.location.href).searchParams.get("__vfz"),e={};if(t){const n=t.split("|");for(let t=0;t<n.length;t++){const o=decodeURIComponent(n[t]).split("=");e[o[0]]=o[1]}}const n=wt();return n&&(e.comment_share=n),e}const bt=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i");function _t(t){return t&&(e=t.sharer_uuid,bt.test(e))?t.sharer_uuid:"";var e}function It(t,e){if(Array.isArray(t))return!(!Array.isArray(e)||t.length!==e.length)&&t.every(((t,n)=>It(t,e[n])),!0);if(et(t)){if(!et(e)||Array.isArray(e))return!1;const n=Object.keys(t).sort();return It(n,Object.keys(e).sort())&&n.every((n=>It(t[n],e[n])))}return t===e}function xt(t,e,n){const{newVisit:o,ts:i}=e,r=function(t){const e=yt(),n=_t(e);return e&&e.medium?{medium:e.medium||"",source:e.source||"",sharer_uuid:n,terms:""}:document.referrer&&!document.referrer.includes(t.domain)?{medium:"referral",source:document.referrer,sharer_uuid:n,terms:""}:{medium:"direct",source:"",sharer_uuid:n,terms:""}}(t),a={...t,referrerStart:i,refVisitCount:1,ref:r},s=[...n,"referrerStart","refVisitCount","ref"];let c=ht(s,"_vfz");const l=yt(),d=c.ref&&l.medium!==c.ref.medium,u=c.ref&&_t(l)!==_t(c.ref),f=c.ref&&document.referrer&&!document.referrer.includes(c.domain);return c.referrerStart?o?"referral"!==r.medium||It(r,c.ref)?c.refVisitCount++:c=a:(d||u||f)&&(c.ref=r):c=a,vt({cname:"_vfz",maxAge:"6m"},c,s),{options:e,data:c}}const St=Math.round(Date.now()/1e3);function kt(t){const e={ts:St},n={domain:t.domain,siteUuid:t.site},o=["domain","siteUuid"],i=function(t,e,n){const{ts:o}=e,i={...t,pageViews:1,outgoing:10,sessionStart:o,isRecirculation:!1},r=[...n,"pageViews","outgoing","sessionStart","isRecirculation","landingPage","page_description","page_title"];let a=ht(r,"_vfb"),s=e;return a.sessionStart?a.pageViews++:(a=i,s={...e,newVisit:!0}),document.referrer&&document.referrer.includes(a.domain)&&(a.isRecirculation=!0),vt({cname:"_vfb",maxAge:"30m"},a,r),{options:s,data:a}}(n,e,o),r=function(t,e,n){const{newVisit:o,ts:i}=e,r={...t,uniqueId:Y(),firstVisit:i,previousVisit:i,currentVisit:i,visitCount:1},a=[...n,"uniqueId","firstVisit","previousVisit","currentVisit","visitCount"];let s=ht(a,"_vfa");return a.some((t=>!s[t]))?s=r:o&&(s.previousVisit=s.currentVisit,s.currentVisit=i,s.visitCount++),vt({cname:"_vfa",maxAge:"1y"},s,a),{options:e,data:s}}(n,{...e,...i.options},o),a=xt(n,{...e,...r.options},o);return{...i.data,...r.data,...a.data}}function At(t){const e=[],n=t.reduce(((t,e)=>t+`meta[name='${e}'], meta[property='${e}']`),""),o=document.querySelectorAll(n);return o.length>0&&o.forEach((t=>{const n=t.getAttribute("content");n&&e.push(n)})),e}const Ct=["__vfz","__vfsubscribed"],Pt=t=>t.substring(0,500),$t=t=>t.replace(/\s+/g," ").trim(),Dt=()=>((t,e=[])=>{const n=new URL(t);return e.forEach((t=>{n.searchParams.delete(t)})),n})(s(u)||window.location.href,Ct).href,Et=()=>{const t=Dt(),e=new URL(t);return`${e.pathname}${e.search}`},Ut=()=>{const t=document.querySelector("title");return t&&t.innerText||""},Lt=()=>{const t=s(m);let e=[];return t&&(e=[...t.split(",").map((t=>t.trim()))]),[...At(p),...At(v),...e]};function Tt(t){if(new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i").test(t))return t;if(!Number.isInteger(t)||t<0||t>0xfffffffffffff)throw new TypeError(`invalid argument: ${t}`);const e=t.toString(16),n=Array(14-e.length).join("0")+e;return`00000000-0000-4000-800${n[0]}-${n.substring(1)}`}function jt(t){const e=new URL(window.location.href),n=yt(),o=t&&t.user,i={domain:_(),image_url:$t(s(d)),url:Dt(),path:Et(),title:Pt($t(s(f)||Ut())),page_type:s(g),description:Pt($t(s(h))),topics:Lt(),container:s(w),section:Pt($t(s(l)))},r=t&&t.sectionTree,a=localStorage.getItem(A)||void 0,c=r&&r.section_id;return{domain:i.domain,site:a,section:c?Tt(c):a,pageImage:i.image_url,ref:n,vf:Object.keys(n).length>0,url:i.url,path:i.path,title:i.title,user:o&&o.id?Tt(o.id):void 0,privilege:o&&o.user_privilege?o.user_privilege:void 0,page_type:i.page_type,page_description:i.description,topics:i.topics,amp:Boolean(e.searchParams.get("isAmpPage")),thirdparty_enabled:"true"===window.sessionStorage.getItem("vfThirdpartyCookiesEnabled"),container_id:i.container}}function Ht(...t){(function(){try{return["development","dev"].includes("production")}catch{return!1}}()||window.localStorage.getItem("_vf-debug"))&&(console.group("%c[viafoura]","\ndisplay: inline-block;\nbackground-color: #cf2e2e;\ncolor: #ffffff;\nfont-weight: bold;\npadding: 3px 7px 3px 7px;\nborder-radius: 3px 3px 3px 3px ;\n"),console.log(...t),console.groupEnd())}var Ot;!function(t){t[t["didomi/javascript"]=0]="didomi/javascript",t[t["javascript/blocked"]=1]="javascript/blocked"}(Ot||(Ot={}));const Nt=Object.values(Ot).filter((t=>isNaN(Number(t)))),Rt="vf.analytics.tcdata",Bt=1138,Vt=[1138,95,561,148];let zt;function Ft(){return"function"==typeof window.__tcfapi}function qt(){if(!Ft())return!1;try{const t=window.localStorage.getItem(Rt);if(t)return JSON.parse(t)}catch(t){}return!1}function Mt(t){return!!(t.vc&&!0===t.vc[Bt]||t.vli&&!0===t.vli[Bt])||(!t.vc||!t.vli||!1!==t.vc[Bt]||!1!==t.vli[Bt])&&null}let Jt=!1;const Wt="Error in getBlueConicProfileId: ";function Kt(t,e=window){if(!(t instanceof Function))return!1;if(!e.blueConicClient||void 0===e.blueConicClient.event||void 0===e.blueConicClient.event.subscribe){if(!Jt)try{e.addEventListener("onBlueConicLoaded",Kt.bind(this,t,e)),Jt=!0}catch(t){Z(Wt,t)}return!0}const n=e.blueConicClient.profile.getProfile();if(n.permission.getLevel()===e.blueConicClient.permission.level.DO_NOT_TRACK){try{e.blueConicClient.event.subscribe(e.blueConicClient.event.onProfilePermissionChange,this,Kt.bind(this,t,e))}catch(t){Z(Wt,t)}return!0}if(!n.getId()){try{e.blueConicClient.event.subscribe(e.blueConicClient.event.onReady,this,Kt.bind(this,t,e))}catch(t){Z(Wt,t)}return!0}return t(n.getId()),!0}var Qt=n(153),Gt=n.n(Qt);const Xt={PPID:"",hashedPPID:"",siteUUID:"",actorUuid:"",uniqueId:"",lsKey:"vf.analytics.ppid"},Yt="00000000-0000-4000-8000-000000000000";const Zt={cache:{},script:{parent:"body",attr:"src",el:{async:!0,defer:!0}},options:{}};function te(t,e){const n=`vf_${i=[t,e],o=i.map(String),o.reduce(((t,e)=>{return 31*t+(n=e,Math.abs(n.split("").reduce(((t,e)=>(t=31*t-t+e.charCodeAt(0))&t),0)));var n}),1)}`;var o,i;return Zt.cache[n]=Zt.cache[n]||new Promise(((o,i)=>{const r=Zt[t],a=document.createElement(t);a.onload=()=>o(a),a.onerror=()=>i(a),Object.assign(a,r.el,{id:n,[r.attr]:e}),document[r.parent]&&document[r.parent].appendChild(a)})).catch((e=>{Z("failed to load tag: ",t,e)})),Zt.cache[n]}const ee=t=>te("script",t),ne=["00000000-0000-4000-8000-fc9aa5069794","00000000-0000-4000-8000-d47205fca416","00000000-0000-4000-8000-000000000bc9","00000000-0000-4000-8000-000000000bd2","00000000-0000-4000-8000-334f214f4651","00000000-0000-4000-8000-000000000bc6","00000000-0000-4000-8000-000000000bd0","00000000-0000-4000-8000-000000000003","00000000-0000-4000-8000-fc9aa5069794","00000000-0000-4000-8000-bc3db436e814"],oe=["00000000-0000-4000-8000-032a225cd465"],ie=["00000000-0000-4000-8000-f1dffa5f5595","00000000-0000-4000-8000-5284a9443a76"],re=["00000000-0000-4000-8000-5c04b6406bf5","00000000-0000-4000-8000-7b38cb75125c","00000000-0000-4000-8000-57a6fb5ed05f","00000000-0000-4000-8000-e45065cfa5e2","00000000-0000-4000-8000-f41528791ab0","00000000-0000-4000-8000-698956718ae8","00000000-0000-4000-8000-052737eae856","00000000-0000-4000-8000-9c47d751ab86"],ae={siteUUID:"",hashedPPID:"",loadM32:!1,m32pixelLoaded:!1,loadLotame:!1,lotameLoaded:!1,loadAudigent:!1,audigentCodeLoaded:!1,loadLiveIntent:!1,liveIntentLoaded:!1},se="vf.analytics.bc.id",ce="vf.analytics.lm.id",le="vf.analytics.lm.ts",de="vf.analytics.li",ue="17229";function fe(t){ae.siteUUID=k(t),ae.hashedPPID=function(t){return(!Xt.hashedPPID||Xt.hashedPPID.length<2)&&(function(t){const e=function(t=window.localStorage,e=Xt.lsKey){if(t){const n=t.getItem(e);if(n&&Xt.hashedPPID&&Xt.hashedPPID.length<2&&n.length>0)return n}return""}();if(e)Xt.hashedPPID=e;else{const e=kt(jt(t));Xt.siteUUID=localStorage.getItem(A)||e.siteUuid||"",Xt.actorUuid=t&&t.user&&t.user.uuid||Yt,Xt.uniqueId=e.uniqueId||"",Xt.PPID=Xt.actorUuid&&Xt.actorUuid!==Yt?Xt.actorUuid:Xt.uniqueId,Xt.hashedPPID=Xt.PPID?Gt()(Xt.PPID).toString():"",function(t=window.localStorage,e=Xt.lsKey){t&&e&&Xt&&Xt.hashedPPID&&Xt.hashedPPID.length>1&&t.setItem(e,Xt.hashedPPID)}()}}(t),!Xt.hashedPPID||Xt.hashedPPID.length<2)?"":Xt.hashedPPID}(t),ae.siteUUID&&ae.siteUUID.length>2&&(Array.isArray(ne)&&(ae.loadM32=ne.includes(ae.siteUUID),ae.loadAudigent=ne.includes(ae.siteUUID),ae.loadLotame=ne.includes(ae.siteUUID),ae.loadLiveIntent=ne.includes(ae.siteUUID)),!ae.loadM32&&ae.siteUUID&&Array.isArray(oe)&&(ae.loadM32=oe.includes(ae.siteUUID)),!ae.loadLotame&&Array.isArray(ie)&&(ae.loadLotame=ie.includes(ae.siteUUID)),!ae.loadLiveIntent&&Array.isArray(re)&&(ae.loadLiveIntent=re.includes(ae.siteUUID)))}function ge(t,e=window){const n=e.localStorage.getItem(se),o=e.localStorage.getItem(ce),i=e.localStorage.getItem(de);if(o){const e=o.split("."),n=e[1],i=e[0],r=e[2];i&&(t.tp_id_lm=i,r&&(t.tp_id_lm_pid=r),n&&(t.tp_idt_lm=n))}if(i){const e=JSON.parse(i);e&&nt(e)&&(t.tp_li=e)}return n?t.tp_id_bc=n:Kt((t=>{t&&e.localStorage.setItem(se,t)})),t}let he,me,pe,ve,we,ye=function(){if(function(){try{const t=window.sessionStorage.getItem("__vftc__")||"0";return!0===JSON.parse(t)}catch{return!1}}())return!0;const t=function(t="//cdn.viafoura.net/vftc/index.js"){const e=document.getElementsByTagName("script");return Array.from(e).filter((e=>e.src.includes(t))).pop()}();return t?!!function(t){return Nt.includes(t.type)}(t)&&(Ht("mayWeTrack::vftc.js was loaded, but it was blocked::not going to track"),!1):(Ht("mayWeTrack::no vftc script tag found::tracking continuing"),!0)}();Ft()&&(!1!==qt()||window.__tcfapi("addEventListener",2,(function(t,e){if(!e||!t)return!1;try{Ht("TCF API data",t);const e=t.vendor||{consents:{},legitimateInterests:{}},n=e.consents||void 0,o=e.legitimateInterests||void 0,i={gdprApplies:t.gdprApplies,tcString:t.tcString,pubCC:t.publisherCC,overallPC:t.purpose&&t.purpose.consents};return n&&(i.vc=Vt.reduce(((t,e)=>({...t,[e]:n[e]})),{})),o&&(i.vli=Vt.reduce(((t,e)=>({...t,[e]:o[e]})),{})),zt=Mt(i),Ht("Consent: ",zt,i),window.localStorage.setItem(Rt,JSON.stringify(i)),!0}catch(t){return!1}})));const be=t=>{if(ye){const e=function(t){return t=ge(t),{view:me,meta:he,ua:pe,rq:we,w:ve,...t}}(t);(t=>{(new Image).src=`${x}?t=${encodeURIComponent(JSON.stringify(t))}`})(e)}},_e=(t,e)=>{const n=t?.settings?.tcf_api_cmp_integration,o=Ft();if(n&&!o&&console.warn("Viafoura: CMP Intgration via TCF API is enabled in Admin but TCF API is not available on this site"),o&&n){const t=function(){if("boolean"==typeof zt)return zt;const t=qt();return"boolean"!=typeof t&&t.vc?(zt=Mt(t),zt):null}();Z("consented?",t),!0!==t&&(ye=!1)}ye&&(((t,e)=>{if(he=jt(t),me=kt(he),pe=function(t,e){const{navigator:n,screen:o,innerWidth:i,innerHeight:r}=t,{title:a,characterSet:s,documentElement:c}=e;return{nl:n&&n.language||null,nu:n&&n.userAgent||null,sr:o&&o.width?`${o.width}x${o.height}`:null,sd:o&&o.colorDepth?o.colorDepth:null,vp:i?`${i}x${r}`:null,dt:a||null,de:s||null,dl:c&&c.getAttribute?c.getAttribute("lang"):null}}(window,document),we=Y(),ve=e,me&&localStorage.setItem("_vf_skeleton_view_analytics",JSON.stringify(me)),we&&he.url){const t={rq:we,path:he.path,t:Date.now()};localStorage.setItem("_vf_rq_info_analytics",JSON.stringify(t))}})(t,e),window.vfConfig&&window.vfConfig?.analytics_loaded||(be({event_type:"analytics.view_lite"}),function(){let t=new Date,e=0,n=!1,o=!1;const i=function(){const n=new Date,o=n.getTime()-t.getTime();e+=o,(o===n.getTime()||e/1e3/60/60>4)&&(e=0)},r=function(){n&&o?e=0:(i(),e>0&&(be({event_type:"analytics.engage_lite",engage:{time:e}}),e=0),n&&(o=!0))};window.addEventListener("focus",(function(){t=new Date})),window.addEventListener("blur",i),window.addEventListener("beforeunload",r),window.addEventListener("vf-main-loaded",(function(){r(),n=!0}))}(),function(){let t=!1;const e=document.querySelector(".vf-comments-count")||document.querySelector(".vf-comments-count-custom");let n=null;window.addEventListener("vf-main-loaded",(()=>{n?.disconnect(),t=!0}));const o=function(e){let n=e;"a"!==e.tagName.toLowerCase()&&(n=e.closest("a")||e),n.addEventListener("click",(()=>{t||be({event_type:"analytics.interaction",action:"click",label:"vf-comments-count"})}))};e&&e.nodeType===e.ELEMENT_NODE?o(e):(n=new MutationObserver(((t,e)=>{const n=document.querySelector(".vf-comments-count")||document.querySelector(".vf-comments-count-custom");n&&(o(n),e.disconnect())})),n.observe(document.body,{childList:!0,subtree:!0}))}(),window.vfConfig=window.vfConfig||{},window.vfConfig.analytics_loaded=!0),function(t,e=window,n=document){fe(t),window.vfConfig&&window.vfConfig?.tp_loaded||(window.vfConfig=window.vfConfig||{},window.vfConfig.tp_loaded=!0,function(t=window){!ae.m32pixelLoaded&&ae.loadM32&&ae.hashedPPID&&(t.m32_context=t.m32_context||{},t.m32_context.euid=ae.hashedPPID,ee("https://rdc.m32.media/m32pixel.min.js"),ae.m32pixelLoaded=!0)}(e),function(t=window,e=document){if(!ae.audigentCodeLoaded&&ae.loadAudigent&&ae.hashedPPID){const n=`https://cdn.hadronid.net/hadron.js?url=${encodeURIComponent(t.location.href)}&ref=${encodeURIComponent(e.referrer)}&_it=freestar&partner_id=473`;ee(n).then((()=>{try{t.au=t.au||[],t.au.push({category:"sendEvent",event:{type:"idmatch",data:ae.hashedPPID}})}catch(t){Z("failed to load Audigent data:",t)}})),ae.audigentCodeLoaded=!0}}(e,n),function(t=window){const e=Number(t.localStorage.getItem(le)),n=!(!e||Number.isNaN(e)||((new Date).getTime()-e)/864e5>1);if(!ae.lotameLoaded&&!n&&ae.loadLotame&&ae.hashedPPID){const e={data:{},config:{clientId:Number(ue),onProfileReady:()=>{const e=t[`lotame_${ue}`].getPanorama(),n=t[`lotame_${ue}`].getProfileId(),o=e.getId()||n,i=o===t[`lotame_${ue}`].getProfileId()?"profileID":e.getIdType()||"";o&&(t.localStorage.setItem(ce,`${o}.${i}.${n}`),t.localStorage.setItem(le,`${(new Date).getTime()}`))}}},n=e.config||{};t[`lotame_${ue}`]={config:n,data:e.data||{},cmd:[]},ee(`https://tags.crwdcntrl.net/lt/c/${ue}/lt.min.js`),ae.lotameLoaded=!0}}(e),function(t=window){!ae.liveIntentLoaded&&ae.loadLiveIntent&&(ee("https://d-code.liadm.com/did-002u.min.js").then((()=>{try{t.liQd_did_002u.resolve((e=>{e&&t.localStorage.setItem(de,JSON.stringify(e))}),(t=>{Z("failed to load LiveIntent data:",t)}),{resolve:["sha2","gender","age","nonId"]})}catch(t){Z("failed to load LiveIntent data:",t)}})),ae.liveIntentLoaded=!0)}(e))}(t))};var Ie;!function(t){t[t.mousemove=0]="mousemove",t[t.touchstart=1]="touchstart",t[t.touchend=2]="touchend",t[t.scroll=3]="scroll",t[t.keydown=4]="keydown",t[t.click=5]="click"}(Ie||(Ie={}));const xe=["mousemove","touchstart","touchend","scroll","keydown","click"],Se=t=>{const e=()=>{t(),(t=>{xe.forEach((e=>{document.removeEventListener(e,t)}))})(e)};(t=>{xe.forEach((e=>{document.addEventListener(e,t)}))})(e)},ke=(t,e)=>{t.forEach((({intersectionRatio:t,target:n})=>{const o=(t=>{let e=t.tagName;return e.match(/^vf-/i)||(e=t.getAttribute("data-widget")),e})(n);if(!o)return;const i=o.toLowerCase(),r=V[i],{loadFn:a,threshold:s}=r,c=t>=(s||1),l=n.hasAttribute("floating");r&&(l?(Se(a),e.unobserve(n)):c&&(window.scrollY<=0?Se(a):setTimeout((()=>{a()}),1e3),e.unobserve(n)))}))},Ae=t=>{const e=(new Date).getTime();return!(t&&!isNaN(Number(t)))||e-Number(new Date(t).getTime())>=24192e5};function Ce(){const t=window.localStorage.getItem("vf.analytics.section")||"";if(!t||!Array.isArray(ne)||0==ne.length||!ne.includes(t))return!1;const e=function(){try{const e=JSON.parse(window.localStorage.getItem("vf.analytics.us")||"{}");return e&&("object"!=typeof(t=e)||0!==Object.keys(t).length)?e:{}}catch(t){return{}}var t}(),n=[];nt(e)&&(e?.isActiveEngaged&&Ae(e?.lastAETS)&&n.push("ae"),e?.isRegistered&&Ae(e?.lastLoginTS)&&n.push("rg"),e?.isCommenter&&Ae(e?.lastCommentTS)&&n.push("cm"),e?.isUGCcontributor&&Ae(e?.lastContributionTS)&&n.push("ug"),n.length>0&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("vf_sg",n)}))))}window.vfQ=window.vfQ||[],async function(){await async function(){let t;O("\n/* Skeleton Renderer styles */\n\n#vf-skeleton-container {\n    display: block;\n    margin: 20px 0;\n    overflow: hidden;\n}\n\n.vf-skeleton-generic-block {\n    background-color: #ebebeb;\n    border-radius: 4px;\n    display: block;\n    position: relative;\n    overflow: hidden;\n}\n\n.vf-skeleton-generic-block::after {\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    left: 0px;\n    bottom: 0px;\n    transform: translateX(-100%);\n    background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0) );\n    animation: shimmer 1s infinite;\n    content: '';\n}\n\n@keyframes shimmer {\n    100% {\n        transform: translateX(100%);\n    }\n}\n\n.vf-skeleton-conversations-container .vf-skeleton-generic-block:not(:first-child) {\n    margin-top: 8px;\n}\n\n.vf-skeleton-comments-container {\n    height: 112px;\n    margin-top: 28px;\n}\n\n.vf-skeleton-comments-img-wrapper {\n    width: 46px;\n    float: left;\n}\n\n.vf-skeleton-comments-img-wrapper .vf-skeleton-generic-block {\n    border-radius: 100%;\n}\n\n.vf-skeleton-comments-line-wrapper {\n    float: left;\n    width: 80%;\n    margin-left: 14px;\n}\n\n.vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(1) {\n    width: 45%\n}\n\n.vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(4) {\n    width: 55%\n}\n\n@media (min-width: 757px) {\n    .vf-skeleton-comments-line-wrapper {\n        width: 90%;\n    }\n\n    .vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(1) {\n        width: 20%\n    }\n\n    .vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(4) {\n        width: 80%\n    }\n}");try{if(t=await P(),window.location.hash.match(/^#vf-/))B();else{const t=new IntersectionObserver(ke,{threshold:[0,.25,.5,.75,1]});await(async t=>{const e=Object.entries(V).map((([t,e])=>({name:t,elements:(t=>{const e=V[t].selector;return document.querySelectorAll(e)})(t),options:e})));!function(t){t.forEach((t=>{const{elements:e,options:n}=t;e.forEach((t=>{const e=t.closest(".viafoura"),o=t.hasAttribute("floating");let i="";e&&!o&&(n.allowedStyleProps?.forEach((t=>{i+=function(t,e){let n="";return Array.from(t.style).includes(e)&&(n+=`${e}: ${t.style.getPropertyValue(e)}; `),n}(e,t)})),parseInt(e.style.minHeight)?i+=`min-height: ${e.style.minHeight}`:i+=`min-height: ${n.height()}px;`,e.setAttribute("style",i),n.isDynamicHeight&&ResizeObserver)&&new ResizeObserver((()=>{e.style.minHeight=`${n.height()}px`})).observe(e)}))}))}(e);for await(const n of e)if(n.elements.length){q.push(n.name);try{const e={elements:n.elements,options:n.options,name:n.name,..."vf-tray-trigger"===n.name&&{notificationCount:await z()}};n.options.renderer(e,t)}catch(t){throw console.error({message:`Could not load ${n.name}`,originalError:t}),t}}})(t)}}catch(t){console.error(t)}Ce(),_e(t,q)}()}()})()})();
//# sourceMappingURL=index.js.map