"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7891],{29810:function(e,t,r){r.d(t,{Z:function(){return L}});var n=r(92972),i=r.n(n),a=r(97240),s=r(4942),l=(r(9867),r(7231),r(58109),r(95566),r(68438),r(83464),r(19496),r(89720)),o=r(26574),c=r(88101),u=r(57241),d=r(57160),p=r(56552);function v(e){var t=(0,u.nZ)(e),r=e.flag||"",n=e.external||d.o.includes(e.type),i=c.wP(e.url),a=n?e.url:i;return(0,p.jsx)("li",{className:"relatedListItem",children:(0,p.jsxs)(o.default,{className:"relatedLink",external:n,url:a,children:[(0,p.jsx)(l._,{flag:r,external:n})," ",t]})})}v.propTypes={url:i().string.isRequired,title:i().string,flag:i().string,external:i().bool},v.defaultProps={external:!1};var m=v;function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){var t=e.links.map((function(e){var t=e.url.slice(e.url.lastIndexOf("-")+1);return(0,p.jsx)(m,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),t)}));return t}h.propTypes={links:i().array.isRequired};var x=h;function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=e.links.map((function(e){return(0,p.jsx)(m,g(g({},e),{},{external:!0}),"".concat(e.title,"-").concat(e.url))}));return(0,p.jsx)("div",{className:"relatedExternal",children:t})}y.propTypes={links:i().array.isRequired};var b=y;function O(e){var t=e.intlinks&&e.intlinks.length>0?(0,p.jsx)(x,{links:e.intlinks}):null,r=e.eplinks&&e.eplinks.length>0?(0,p.jsx)(x,{links:e.eplinks}):null,n=e.externalLinks&&e.externalLinks.length>0?(0,p.jsx)(b,{links:e.externalLinks}):null;return n||r||t?(0,p.jsxs)("div",{className:"relatedlinks sclt-relatedlinks",children:[(0,p.jsx)(a.Z,{level:"h2",children:e.heading}),(0,p.jsxs)("ul",{className:"relatedList",children:[t,r,n]})]}):null}O.propTypes={intlinks:i().array,eplinks:i().array,externalLinks:i().array,heading:i().string},O.defaultProps={heading:"Related Stories"};var L=O},50666:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var n=r(7636),i=r(92972),a=r.n(i),s=r(14507),l=r.n(s),o=r(26574),c=r(60612),u=r(87166),d=r(65999),p=r(51947),v=r(96818),m=r(43272),f=r(13304),h=r(39588),x=r(36543),j=r(90955),g=r(29810),y=r(22417),b=r(50503),O=r(23964),L=r(53374),k=r(15861),C=r(29439),N=r(64687),w=r.n(N),D=r(32747),Z=r(34968),P=r(71733),A=r(68075),I=r(51591),T=r(68699),S=r(41718),E=r(73457);function _(){var e=(0,A.getUserFromCookie)();return e?e.id:""}var M=function(){var e=(0,k.Z)(w().mark((function e(t,r,n){var i,a,s,l,o,c,u,d,p=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p.length>3&&void 0!==p[3]?p[3]:E.xO,a=p.length>4&&void 0!==p[4]?p[4]:{},s=_(),e.prev=3,e.next=6,(0,P.AO)(r,t,s);case 6:return o=e.sent,c=(null===o||void 0===o||null===(l=o.data)||void 0===l||null===(l=l.mlDrivenItems)||void 0===l?void 0:l.items)||[],u=c.length?(0,T.H9)(c):[],d=u.length?(0,I.h)(u,i,n,a):[],e.abrupt("return",d);case 13:return e.prev=13,e.t0=e.catch(3),S.default.error("error fetching more like this clips: ",e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,r,n){return e.apply(this,arguments)}}(),R=r(49291),U=r(48879),H=r(72663),B=r(27953),F=r(56552),q=function(e){var t=e.mediaId,r=e.layout,i=e.featureAttributionData,a=(0,n.useDispatch)(),s=(0,n.useSelector)((function(e){return e.app.path})),l=(0,D.useState)([]),o=(0,C.Z)(l,2),c=o[0],u=o[1],d=(0,D.useState)(!0),p=(0,C.Z)(d,2),v=p[0],m=p[1],f=(0,B.Z)(),h=r.columns,x=void 0===h?1:h,j=r.rows,g=void 0===j?3:j,y=r.variant,b=void 0===y?H.v.HORIZONTAL:y,O=x*g||3,L=function(){var e=(0,k.Z)(w().mark((function e(){var n,l;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],e.prev=1,m(!0),(l=parseInt(t,10))&&!isNaN(l)){e.next=6;break}throw new Error("no or malformed mpxId supplied to fetch more like this");case 6:return e.next=8,M(O,l,s,r,i);case 8:n=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),n=[],S.default.error("fetch more like this items failed ".concat(e.t0),e.t0);case 15:u(n),a((o=n.length,{type:Z.A,payload:o})),m(!1);case 18:case"end":return e.stop()}var o}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();(0,D.useEffect)((function(){f&&t&&L()}),[t,f]);return v||null!==c&&void 0!==c&&c.length?(0,F.jsxs)("div",{className:"moreLikeThis",children:[(0,F.jsx)(R.OT,{text:"More Like This"}),(0,F.jsx)(U.Z,{layout:r,items:v?(0,U.P)(3,b):c})]}):null},K=q;q.propTypes={mediaId:a().number,layout:a().shape({columns:a().number,rows:a().number,variant:a().string}),featureAttributionData:a().shape({instance:a().string,name:a().string})};var z=r(67384),G=r(64505),Y=function(e){var t,r,i,a,s=(0,n.useDispatch)(),k=(0,n.useSelector)((function(e){return e.video.currentClip})),C=(0,n.useSelector)((function(e){return e.video.category})),N=(0,n.useSelector)((function(e){return e.app.statusCode})),w=(0,n.useSelector)((function(e){return e.tracking.tracking})),D=(0,n.useSelector)((function(e){return e.video.moreFromBaseSection.items})),Z=(0,n.useSelector)((function(e){return e.video.trendingClips.items})),P=(0,n.useSelector)((function(e){return e.video.moreLikeThis})),A=(0,p.t)(null===(t=k.media)||void 0===t?void 0:t.streamType);(0,O.Z)(e.match,(function(){return s((0,x.jc)(null,{mediaId:e.match.params.mediaId}))}));var I=A?"live":(0,h.Ud)(null===(r=k.media)||void 0===r?void 0:r.duration),T=parseInt(k.publishedAt);return(0,F.jsx)(u.Z,{statusCode:N,children:(0,F.jsxs)("div",{className:l()("videoDetailPage",j.Oo),children:[(0,F.jsxs)("div",{className:"play-page two-columns",children:[(0,F.jsxs)("div",{className:"play-page-main",children:[(0,F.jsxs)("div",{className:"stage ".concat(k.sourceId?"":"placeholder"),children:[k.sourceId?(0,F.jsx)(L.Z.Provider,{value:!0,children:(0,F.jsx)(d.Z,{config:{autoPlay:!0,routeUpdate:!0,useMediaAspectRatio:!0},mediaItem:k,isMediaItemPlayable:!0})}):null,(0,F.jsxs)("div",{className:"details",children:[(0,F.jsxs)("div",{className:"metadata",children:[(0,F.jsxs)("h1",{id:"MainContentTitle",children:[(0,F.jsx)("span",{className:"play-page-title-tag",children:k.type}),k.title]}),(0,F.jsxs)("ul",{className:"factoids",children:[(0,F.jsx)("li",{id:"StageTimestamp",children:(0,F.jsx)(v.I,{airDate:T,duration:(null===(i=k.media)||void 0===i?void 0:i.duration)||-1,includeSeconds:!0})}),(0,F.jsx)("li",{children:function(){var e,t;if(!k.sourceId)return null;var r,n=(0,m.Gv)(k.categories);return n?(0,F.jsx)(o.default,{"aria-label":"Content area ".concat(null===(e=k.media)||void 0===e?void 0:e.contentArea),url:"/player/".concat(n.path),className:"video-base-category-link",children:n.title}):null!==(t=k.media)&&void 0!==t&&t.contentArea?null===(r=k.media)||void 0===r?void 0:r.contentArea:null}()}),(0,F.jsx)("li",{children:(0,F.jsxs)("span",{className:A?"live":"",children:[(0,F.jsxs)("span",{className:"a11y",children:["Duration"," "]}),I]})}),(null===(a=k.media)||void 0===a?void 0:a.hasCaptions)&&(0,F.jsx)("li",{className:"cc-listitem",children:(0,F.jsx)("svg",{className:"captions",viewBox:"0 0 24 24",role:"img","aria-label":"Close captions available",children:(0,F.jsx)("path",{d:"M19,4 L5,4 C3.89,4 3,4.9 3,6 L3,18 C3,19.1 3.89,20 5,20 L19,20 C20.1,20 21,19.1 21,18 L21,6 C21,4.9 20.1,4 19,4 Z M11,11 L9.5,11 L9.5,10.5 L7.5,10.5 L7.5,13.5 L9.5,13.5 L9.5,13 L11,13 L11,14 C11,14.55 10.55,15 10,15 L7,15 C6.45,15 6,14.55 6,14 L6,10 C6,9.45 6.45,9 7,9 L10,9 C10.55,9 11,9.45 11,10 L11,11 Z M18,11 L16.5,11 L16.5,10.5 L14.5,10.5 L14.5,13.5 L16.5,13.5 L16.5,13 L18,13 L18,14 C18,14.55 17.55,15 17,15 L14,15 C13.45,15 13,14.55 13,14 L13,10 C13,9.45 13.45,9 14,9 L17,9 C17.55,9 18,9.45 18,10 L18,11 Z",id:"Shape",fill:"#546E7A",fillRule:"nonzero"})})})]}),(0,F.jsx)("p",{id:"MainContentDescription",children:k.description})]}),(0,F.jsx)("div",{className:"ad-container",children:(0,F.jsx)(c.Z,{type:"bigbox-single",responsive:!0,targeting:{plc:"feed"}})})]})]}),function(){if(k.relatedContent&&0!==k.relatedContent.length)return(0,F.jsx)(g.Z,{intlinks:k.relatedContent})}()]}),(0,F.jsxs)("div",{className:"play-page-aside",children:[function(){var e={name:E.vU,columns:1,rows:G.U0,isFlexible:!1,variant:H.v.HORIZONTAL};return(0,F.jsx)(K,{mediaId:k.mediaId,layout:e,featureAttributionData:{instance:"related-media",name:"vertical-card-list"}})}(),function(){var e,t=P.numItems,r=P.isLoaded,n=(e=t,r?G.d6-e:G.Kn),i={name:E.vU,columns:1,rows:n,isFlexible:!1,variant:H.v.HORIZONTAL};return(0,F.jsx)(z.Z,{layout:i,featureAttributionData:{name:"vertical-card-list",instance:"rec-sys"}})}()]}),function(){var e;return null!==D&&void 0!==D&&D.length?(0,F.jsxs)("div",{className:"category-clips-swimlane",children:[(0,F.jsx)(R.OT,{text:"More from ".concat(null===(e=k.media)||void 0===e?void 0:e.contentArea)}),(0,F.jsx)(U.Z,{layout:E.xO,items:D})]}):null}(),function(){if(C&&0!==Object.keys(C).length)return(0,F.jsx)("div",{className:"category-clips-swimlane",children:(0,F.jsx)(f.Z,{title:C.title,columns:5,rows:2,showMore:!1,storePath:"video.clipsByCategory.".concat(C.fullTitle)})})}(),function(){if(null!==Z&&void 0!==Z&&Z.length)return(0,F.jsxs)("div",{className:"trending-clips-swimlane",children:[(0,F.jsx)(R.OT,{text:"Trending Now"}),(0,F.jsx)(U.Z,{layout:E.xO,items:Z})]})}()]}),(0,F.jsx)(y.Z,{dtmData:w,type:b.TYPE_DETAIL})]})})},J=Y;Y.propTypes={currentClip:a().object,clipCategory:a().object,statusCode:a().number},Y.defaultProps={currentClip:{id:"",title:"",airDate:"",captions:"",duration:"",contentArea:"",description:"",categories:[]}}}}]);
//# sourceMappingURL=../../sourcemaps/oc-pages-VideoDetailPage-component.b0b1cf0710e0d0cc41a4.js.map